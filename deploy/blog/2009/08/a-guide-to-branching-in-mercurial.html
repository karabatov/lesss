
<!DOCTYPE html>
<html>
    <head>
        <link href='http://fonts.googleapis.com/css?family=OFL+Sorts+Mill+Goudy+TT:regular,italic' rel='stylesheet' type='text/css' />
        <link rel="profile" href="http://microformats.org/profile/hcard" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />

        <title>A Guide to Branching in Mercurial : Less Selling</title>

        
            <link href="http://feeds2.feedburner.com/stevelosh"
                  rel="alternate" title="Less Selling"
                  type="application/atom+xml" />
        

        
            <link rel="stylesheet" href="/media/css/aal.css"      type="text/css" media="screen" charset="utf-8" />
            <link rel="stylesheet" href="/media/css/sjl.css"      type="text/css" media="screen" charset="utf-8" />
            <link rel="stylesheet" href="/media/css/print.css"    type="text/css" media="print" charset="utf-8" />
            
    <link rel="stylesheet"
          href="/media/css/pygments-monokai-light.css"
          type="text/css" media="screen" charset="utf-8" />

        

        
            <script src="/media/js/jquery.js" type="text/javascript"></script>
            <script src="/media/js/jquery.timeago.js" type="text/javascript"></script>
            <script src="/media/js/sjl.js" type="text/javascript"></script>
            <script src="/media/js/print.js" type="text/javascript"></script>

            <script type="text/javascript">
                $(function() {
                    $("a.rhythm").toggle(function() {
                        $("body").addClass("rhythm");
                    }, function() {
                        $("body").removeClass("rhythm");
                    });
                });
            </script>

            <script type="text/javascript">
            /* <![CDATA[ */
                (function() {
                    var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];

                    s.type = 'text/javascript';
                    s.async = true;
                    s.src = 'http://api.flattr.com/js/0.5.0/load.js?mode=auto';

                    t.parentNode.insertBefore(s, t);
                })();
            /* ]]> */
            </script>

            
        

        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-28389034-1']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>

    </head>

    <body>
        <div class="wrap">
            <div class="top group">
                <header>
                    <a href="/">less selling</a>
                </header>

                <nav>
                    <a href="/blog/">Blog</a>
                    <span class="sep">-</span>
                    <a href="/projects">Projects</a>
                    <span class="sep">-</span>
                    <a href="/about/">About</a>
                    <span class="sep">-</span>
                    <a href="http://feeds2.feedburner.com/stevelosh">Feed</a>
                </nav>
            </div>

            <div class="hr">&nbsp;</div>

            <div class="content">
                
                    
                        
    <div id="leaf-title">
        <h1><a href="/blog/2009/08/a-guide-to-branching-in-mercurial/">A Guide to Branching in&nbsp;Mercurial</a></h1>
    </div>


    <div id="leaf-stats" class="group">
        
            <div class="flattr">
                <a class="FlattrButton" style="display:none;" rev="flattr;button:compact;"
                   href="http://stevelosh.com/blog/2009/08/a-guide-to-branching-in-mercurial/"></a>
           </div>
        
        <p>
            Posted
            <span class="timeago"
                  title="2009-08-30T20:27:12">
            </span>
            on August 30, 2009.
        </p>
    </div>

    <div id="leaf-content" class="with-diagrams">
        
            <!-- Hyde::Article::Begin -->
                
                    <p>I&#8217;ve been hanging out in the <a href="irc://irc.freenode.net/#mercurial">#mercurial</a> and <a href="irc://irc.freenode.net/#bitbucket">#bitbucket</a>
channels on freenode a lot lately, and I&#8217;ve noticed a topic that comes up a
lot is &#8220;how does <a href="http://mercurial.selenic.com/">Mercurial</a>&#8216;s branching differ from <a href="http://git-scm.com/">git</a>&#8216;s&nbsp;branching?&#8221;</p>
<p>A while ago <a href="http://litanyagainstfear.com/">Nick Quaranto</a> and I were talking about Mercurial and git&#8217;s
branching models on Twitter and I wrote out a <a href="http://a.longreply.com/178502">quick longreply</a> about
the main differences. Since then I&#8217;ve pointed some git users toward that post
and they seemed to like it, so I figured I&#8217;d turn it into something a bit&nbsp;more&nbsp;detailed.</p>
<p><strong>Disclaimer:</strong> this post is not intended to be a guide to the commands used
for working with Mercurial. It is only meant to be a guide to the <em>concepts</em>
behind the branching models. For more information on daily use and commands,
the <a href="http://hgbook.red-bean.com/">hg book</a> is a great resource (if you find it useful, please
<a href="http://search.barnesandnoble.com/Mercurial/Bryan-OSullivan/e/9780596800673/?itm=1">buy</a> a paper copy to support Bryan and have a printed copy of the
<a href="http://twitpic.com/cwod4">best editing fail of all time</a>).</p>
<div class="toc">
<ul>
<li><a href="#prologue">Prologue</a></li>
<li><a href="#branching-with-clones">Branching with Clones</a><ul>
<li><a href="#advantages">Advantages</a></li>
<li><a href="#disadvantages">Disadvantages</a></li>
<li><a href="#comparison-to-git">Comparison&nbsp;to&nbsp;git</a></li>
</ul>
</li>
<li><a href="#branching-with-bookmarks">Branching with Bookmarks</a><ul>
<li><a href="#advantages_1">Advantages</a></li>
<li><a href="#disadvantages_1">Disadvantages</a></li>
<li><a href="#comparison-to-git_1">Comparison&nbsp;to&nbsp;git</a></li>
</ul>
</li>
<li><a href="#branching-with-named-branches">Branching with Named Branches</a><ul>
<li><a href="#advantages_2">Advantages</a></li>
<li><a href="#disadvantages_2">Disadvantages</a></li>
<li><a href="#comparison-to-git_2">Comparison&nbsp;to&nbsp;git</a></li>
</ul>
</li>
<li><a href="#branching-anonymously">Branching Anonymously</a><ul>
<li><a href="#advantages_3">Advantages</a></li>
<li><a href="#disadvantages_3">Disadvantages</a></li>
<li><a href="#comparison-to-git_3">Comparison&nbsp;to&nbsp;git</a></li>
</ul>
</li>
<li><a href="#one-more-difference-between-mercurial-and-git">One More Difference Between Mercurial&nbsp;and&nbsp;git</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</div>
<h2 id="prologue">Prologue</h2>
<p>Before I start explaining the different branching models, here&#8217;s a simple
repository I&#8217;ll use as&nbsp;an&nbsp;example:</p>
<p><img alt="Basic Repository Diagram" src="/media/images/blog/2009/08/branch-base.png" title="Basic Repository" /></p>
<p>The repository is in the <code>~/src/test-project</code> folder. It has three changesets
in it: numbers 0, 1&nbsp;and&nbsp;2.</p>
<p><strong>For git users:</strong> each changeset in a Mercurial repository has a hash as an
identifier, just like with git. However, Mercurial also assigns numbers to
each changeset in a repository. The numbers are <em>only</em> for that local
repository &#8212; two clones might have different numbers assigned to different
changesets depending on the order of pulls/pushes/etc. They&#8217;re just there for
convenience while you&#8217;re working with&nbsp;a&nbsp;repository.</p>
<p>The default branch name in Mercurial is &#8220;default&#8221;. Don&#8217;t worry about what that
means for now, we&#8217;ll get to it. I&#8217;m mentioning it because there&#8217;s a little
<code>default</code> marker in&nbsp;the&nbsp;diagram.</p>
<p>In all of these diagrams, a marker like that with a dashed border doesn&#8217;t
actually exist as an object anywhere. Those are special names that you can use
to identify a changeset instead of the hash or number &#8212; Mercurial will
calculate the revision on&nbsp;the&nbsp;fly.</p>
<p>For now, ignore the <code>default</code> marker. I&#8217;ve colored it grey in each of the
diagrams where it&nbsp;doesn&#8217;t&nbsp;matter.</p>
<h2 id="branching-with-clones">Branching&nbsp;with&nbsp;Clones</h2>
<p>The slowest, safest way to create a branch with Mercurial is to make a new
clone of&nbsp;the&nbsp;repository:</p>
<div class="codehilite"><pre><span class="gp">$</span> <span class="nb">cd</span> ~/src
<span class="gp">$</span> hg clone <span class="nb">test</span>-project <span class="nb">test</span>-project-feature-branch
</pre></div>


<p>Now you&#8217;ve got two copies of the repository. You can commit separately in each
one and push/pull changesets between them as often as you like. Once you&#8217;ve
made some changes in each one, the result might look&nbsp;like&nbsp;this:</p>
<p><img alt="Clone Diagram" src="/media/images/blog/2009/08/branch-clone.png" title="Branching with Clones" /></p>
<p>We&#8217;ve got two copies of the repository. Both contain the changesets that
existed at the time we branched/cloned. If we push from <code>test-project</code> into
<code>test-project-feature-branch</code> the &#8220;Fix a critical bug&#8221; changeset will be&nbsp;pushed&nbsp;over.</p>
<p><strong>For git users:</strong> Remember how I mentioned that the changeset numbers are
local to a repository? We can see this clearly here &#8212; there are two different
changesets with the number 3. The numbers are <em>only</em> used while working inside
a single repository. For pushing, pulling, or talking to other people you
should use&nbsp;the&nbsp;hashes.</p>
<h3 id="advantages">Advantages</h3>
<p>Cloning is a very safe way of creating a branch. The two repositories are
completely isolated until you push or pull, so there&#8217;s no danger of breaking
anything in one branch when you&#8217;re working&nbsp;in&nbsp;another.</p>
<p>Discarding a branch you don&#8217;t want any more is <em>very</em> easy with cloned
branches. It&#8217;s as simple as <code>rm -rf test-project-feature-branch</code>. There&#8217;s no
need to mess around with editing repository history, you just delete the&nbsp;damn&nbsp;thing.</p>
<h3 id="disadvantages">Disadvantages</h3>
<p>Creating a branch by cloning locally is slower than the other methods, though
Mercurial will use hardlinks when cloning if your <span class="caps"><span class="caps">OS</span></span> supports them (most do)
so it won&#8217;t be <em>too</em>&nbsp;slow.</p>
<p>However, the clone branching method can really slow things down when other
developers (not located nearby) want to work on the project. If you publish
two branches as separate repositories (such as <code>stable</code> and <code>version-2</code>),
contributors will have to clone down <em>both</em> repositories through the internet
if they want to work on both branches. That can take a lot of extra time,
depending on the repository size&nbsp;and&nbsp;bandwidth.</p>
<p>It can become especially wasteful if, for example, there are 10,000 changesets
before the branch point and maybe 100 per branch after. Instead of pulling
down 10,200 changesets you need to pull down 20,200. If you want to work on
three different branches, you&#8217;re pulling down 30,300 instead&nbsp;of&nbsp;10,300.</p>
<p>There is a way to avoid this large download cost, as pointed out by Guido
Ostkamp and timeless_mbp in <a href="irc://irc.freenode.net/#mercurial">#mercurial</a>. The idea is that you clone
one branch down from the server, then pull <em>all</em> the branches into it, then
clone locally to split that repository back into branches. This avoids the
cost of cloning down the same changesets over&nbsp;and&nbsp;over.</p>
<p>An example of this method with three branches would look something&nbsp;like&nbsp;this:</p>
<div class="codehilite"><pre><span class="gp">$</span> hg clone http://server/project-main project
<span class="gp">$</span> <span class="nb">cd </span>project
<span class="gp">$</span> hg pull http://server/project-branch1
<span class="gp">$</span> hg pull http://server/project-branch2
<span class="gp">$</span> <span class="nb">cd</span> ..
<span class="gp">$</span> hg clone project project-main --rev <span class="o">[</span>head of mainline branch<span class="o">]</span>
<span class="gp">$</span> hg clone project project-branch1 --rev <span class="o">[</span>head of branch1<span class="o">]</span>
<span class="gp">$</span> hg clone project project-branch2 --rev <span class="o">[</span>head of branch2<span class="o">]</span>
<span class="gp">$</span> rm -rf project
<span class="gp">$</span> <span class="nb">cd </span>project-main
<span class="gp">$</span> <span class="o">[</span>edit .hg/hgrc file to make the default path http://server/project-main<span class="o">]</span>
<span class="gp">$</span> <span class="nb">cd</span> ../project-branch1
<span class="gp">$</span> <span class="o">[</span>edit .hg/hgrc to make the default path http://server/project-branch1<span class="o">]</span>
<span class="gp">$</span> <span class="nb">cd</span> ../project-branch2
<span class="gp">$</span> <span class="o">[</span>edit .hg/hgrc to make the default path http://server/project-branch2<span class="o">]</span>
</pre></div>


<p>This example assumes you know the IDs of the branch heads off the top of your
head, which you probably don&#8217;t. You&#8217;ll have to look&nbsp;them&nbsp;up.</p>
<p>It also assumes that there is only one new head per branch, when there might
be more. If <code>branch1</code> has two heads which are not in <code>mainline</code>, you would
need to look up the IDs of <em>both</em> and specify both in the&nbsp;clone&nbsp;command.</p>
<p>Another annoyance shows up when you&#8217;re working on a project that relies on
your code being at a specific file path. If you branch by cloning you&#8217;ll need
to rename directories (or change the file path configuration) every time you
want to switch branches. This might not be a common situation (most build
tools don&#8217;t care about the absolute path to the code) but it <em>does</em> appear now&nbsp;and&nbsp;then.</p>
<p>I personally don&#8217;t like this method and don&#8217;t use it. Others do though, so
it&#8217;s good to understand it (Mercurial itself uses&nbsp;this&nbsp;model).</p>
<h3 id="comparison-to-git">Comparison&nbsp;to&nbsp;git</h3>
<p>Git can use this method of branching too, although I don&#8217;t see it very often.
Technically this is the exact same thing as creating a fork on <a href="http://github.com/">GitHub</a>, but
most people think of &#8220;fork&#8221; and &#8220;branch&#8221; as&nbsp;separate&nbsp;concepts.</p>
<h2 id="branching-with-bookmarks">Branching&nbsp;with&nbsp;Bookmarks</h2>
<p>The next way to branch is to use a bookmark.&nbsp;For&nbsp;example:</p>
<div class="codehilite"><pre><span class="gp">$</span> <span class="nb">cd</span> ~/src/test-project
<span class="gp">$</span> hg bookmark main
<span class="gp">$</span> hg bookmark feature
</pre></div>


<p>Now you&#8217;ve got two bookmarks (essentially a tag) for your two branches at the&nbsp;current&nbsp;changeset.</p>
<p>To switch to one of these branches you can use <code>hg update feature</code> to update
to the tip changeset of that branch and mark yourself as working on that
branch. When you commit, it will move the bookmark to the newly&nbsp;created&nbsp;changeset.</p>
<p><strong>Note:</strong> for more detailed information on actually using bookmarks day-to-day
please read the <a href="http://mercurial.selenic.com/wiki/BookmarksExtension">bookmarks page</a>. This guide is meant to show the
different branching models, and bookmarks have a few quirks that you should
know about if you&#8217;re going to&nbsp;use&nbsp;them.</p>
<p>Here&#8217;s what the repository would look like with&nbsp;this&nbsp;method:</p>
<p><img alt="Bookmark Diagram" src="/media/images/blog/2009/08/branch-bookmark.png" title="Branching with Bookmarks" /></p>
<p>The diagram of the changesets is pretty simple: the branch point was at
changeset 2 and each branch has one new changeset&nbsp;on&nbsp;it.</p>
<p>Now let&#8217;s look at the markers. The <code>default</code> marker is still there, and we&#8217;re
still going to&nbsp;ignore&nbsp;it.</p>
<p>There are two new labels in this diagram &#8212; these represent the bookmarks.
Notice how their outlines are <em>not</em> dashed? This is because bookmarks are
actual objects stored on disk, not just convenient shortcuts that Mercurial
will let&nbsp;you&nbsp;use.</p>
<p>When you use a bookmark name as a revision Mercurial will look up the revision
it points at and&nbsp;use&nbsp;that.</p>
<h3 id="advantages_1">Advantages</h3>
<p>Bookmarks give you a quick, lightweight way to give meaningful label&nbsp;your&nbsp;branches.</p>
<p>You can delete them when you no longer need them. For example, if we finish
development of the new feature and merge the changes in the main branch, we
probably don&#8217;t need to keep the <code>feature</code> bookmark around&nbsp;any&nbsp;more.</p>
<h3 id="disadvantages_1">Disadvantages</h3>
<p>Being lightweight can also be a disadvantage. If you delete a bookmark, then
look at your code a year later and wonder what all those changesets that got
merged into main were for, the bookmark name is gone. This probably isn&#8217;t a
big issue if you write good&nbsp;changeset&nbsp;summaries.</p>
<p>Bookmarks are local. They do <em>not</em> get transferred during a push or pull!
There has been some whispering about adding this is Mercurial 1.4, but for now
if you want to give someone else your bookmarks you&#8217;ll need to manually give
them the file the bookmarks are&nbsp;kept&nbsp;in.</p>
<p><strong><span class="caps"><span class="caps">UPDATE</span></span>:</strong> As of Mercurial 1.6 <a href="http://mercurial.selenic.com/wiki/BookmarksExtension#Working_With_Remote_Repositories">bookmarks can be pushed and
pulled</a>&nbsp;between&nbsp;repositories.</p>
<h3 id="comparison-to-git_1">Comparison&nbsp;to&nbsp;git</h3>
<p>Branching with bookmarks is very close to the way git usually handles
branching. Mercurial bookmarks are like git refs: named pointers to changesets
that move&nbsp;on&nbsp;commit.</p>
<p>The biggest difference is that git refs are transferred when pushing/pulling
and Mercurial bookmarks&nbsp;are&nbsp;not.</p>
<h2 id="branching-with-named-branches">Branching with&nbsp;Named&nbsp;Branches</h2>
<p>The third way of branching is to use Mercurial&#8217;s named branches. Some people
prefer this method (myself included) and many&nbsp;others&nbsp;don&#8217;t.</p>
<p>To create a new&nbsp;named&nbsp;branch:</p>
<div class="codehilite"><pre><span class="gp">$</span> <span class="nb">cd</span> ~/src/test-project
<span class="gp">$</span> hg branch feature
</pre></div>


<p>When you commit the newly created changeset will be on the same branch as its
parent, unless you&#8217;ve used <code>hg branch</code> to mark it as being on a&nbsp;different&nbsp;one.</p>
<p>Here&#8217;s what a repository using named branches might&nbsp;look&nbsp;like:</p>
<p><img alt="Named Branch Diagram" src="/media/images/blog/2009/08/branch-named.png" title="Branching with Named Branches" /></p>
<p>An important difference with this method is that the branch name is
permanently recorded as part of the changeset&#8217;s metadata (as you can see in
changeset 4 in&nbsp;the&nbsp;diagram).</p>
<p><strong>Note:</strong> The default branch is called <code>default</code> and is not normally shown
unless you ask for&nbsp;verbose&nbsp;output.</p>
<p>Now it&#8217;s time to explain those magic dashed-border labels we&#8217;ve been ignoring.
Using a branch name to specify a revision is shorthand for &#8220;the tip changeset
of this named branch&#8221;. In this&nbsp;example&nbsp;repository:</p>
<ul>
<li>Running <code>hg update default</code> would update to changeset 3, which is the tip of
  the <code>default</code> branch.</li>
<li>Running <code>hg update feature</code> would update to changeset 4, which is the tip of
  the <code>feature</code> branch.</li>
</ul>
<p>Neither of these labels actually exist as an object anywhere on disk (like a
bookmark would). When you use them Mercurial calculates the appropriate
revision on&nbsp;the&nbsp;fly.</p>
<h3 id="advantages_2">Advantages</h3>
<p>The biggest advantage to using named branches is that every changeset on a
branch has the branch name as part of its metadata, which I find very helpful
(especially when using <a href="http://mercurial.selenic.com/wiki/GraphlogExtension">graphlog</a>).</p>
<h3 id="disadvantages_2">Disadvantages</h3>
<p>Many people don&#8217;t like cluttering up changeset metadata with branch names,
especially if they&#8217;re small branches that are going to be merged&nbsp;pretty&nbsp;quickly.</p>
<p>In the past there was also the problem of not having a way to &#8220;close&#8221; a
branch, which means that over time the list of branches could get huge. This
was fixed in Mercurial 1.2 which introduced the <code>--close-branch</code> option for
<code>hg commit</code>.</p>
<h3 id="comparison-to-git_2">Comparison&nbsp;to&nbsp;git</h3>
<p>As far as I know git has no equivalent to Mercurial&#8217;s named branches. Branch
information is never stored as part of a git&nbsp;changeset&#8217;s&nbsp;metadata.</p>
<h2 id="branching-anonymously">Branching&nbsp;Anonymously</h2>
<p>The last method of branching with Mercurial is the fastest and easiest: update
to any revision you want and commit. You don&#8217;t have to think up a name for it
or do anything else &#8212; just update&nbsp;and&nbsp;commit.</p>
<p>When you update to a specific revision, Mercurial will mark the parent of the
working directory as that changeset. When you commit, the newly created
changeset&#8217;s parent will be the parent of the&nbsp;working&nbsp;directory.</p>
<p>The result of updating and committing without doing anything else&nbsp;would&nbsp;be:</p>
<p><img alt="Anonymous Diagram" src="/media/images/blog/2009/08/branch-anon.png" title="Branching Anonymously" /></p>
<p>How do you switch back and forth between branches once you do this? Just use
<code>hg update --check REV</code> with the revision number (or hash) (you can shorten
<code>--check</code> to <code>-c</code>).</p>
<p><strong>Note:</strong> the <code>--check</code> option was added in Mercurial 1.3, but it was broken.
It&#8217;s fixed in 1.3.1. If you&#8217;re using something earlier than 1.3.1, you really&nbsp;should&nbsp;update.</p>
<p>Logging commands like <code>hg log</code> and <code>hg graphlog</code> will show you all the
changesets in the repository, so there&#8217;s no danger of&nbsp;&#8220;losing&#8221;&nbsp;changesets.</p>
<h3 id="advantages_3">Advantages</h3>
<p>This is the fastest, easiest way to branch. You don&#8217;t have to think of a name
or close/delete anything when you&#8217;re finished &#8212; just update&nbsp;and&nbsp;commit.</p>
<p>This method is <em>great</em> for quick-fix,&nbsp;two-or-three-changeset&nbsp;branches.</p>
<h3 id="disadvantages_3">Disadvantages</h3>
<p>Using anonymous branching obviously means that there won&#8217;t be any descriptive
name for a branch, so you&#8217;ll need to write good commit messages if you want to
remember what a branch was for a couple of&nbsp;months&nbsp;later.</p>
<p>Not having a single name to represent a branch means that you&#8217;ll need to look
up the revision numbers or hashes with <code>hg log</code> or <code>hg graphlog</code> each time you
want to switch back and forth. If you&#8217;re switching a lot this might be more
trouble than&nbsp;it&#8217;s&nbsp;worth.</p>
<h3 id="comparison-to-git_3">Comparison&nbsp;to&nbsp;git</h3>
<p>Git has no real way to handle this. Sure, it lets you update and commit, but
if you don&#8217;t create a (named) ref to that new commit you&#8217;re never going to
find it again once you switch to another one. Well, unless you feel like
grep&#8217;ing through a bunch of&nbsp;log&nbsp;output.</p>
<p>Oh, and hopefully it doesn&#8217;t get&nbsp;garbage&nbsp;collected.</p>
<p>Sometimes you might not want to think up a name for a quick-fix branch. With
git you <em>have</em> to name it if you want to really do anything with it, with
Mercurial&nbsp;you&nbsp;don&#8217;t.</p>
<h2 id="one-more-difference-between-mercurial-and-git">One More Difference Between Mercurial&nbsp;and&nbsp;git</h2>
<p>There&#8217;s one more <em>big</em> difference between Mercurial&#8217;s branching and&nbsp;git&#8217;s&nbsp;branching:</p>
<p><strong>Mercurial will push/pull <em>all</em> branches by default, while git will push/pull
only the <em>current</em>&nbsp;branch.</strong></p>
<p>This is important if you&#8217;re a git user working with Mercurial. If you want to
push/pull only a single branch with Mercurial you can use the <code>--rev</code> option
(<code>-r</code> for short) and specify the tip revision of&nbsp;the&nbsp;branch:</p>
<div class="codehilite"><pre><span class="gp">$</span> hg push --rev branchname
<span class="gp">$</span> hg push --rev bookmarkname
<span class="gp">$</span> hg push --rev 4
</pre></div>


<p>If you specify a revision, Mercurial will push that changeset and any
ancestors of it that the target doesn&#8217;t&nbsp;already&nbsp;have.</p>
<p>This doesn&#8217;t apply when you use the &#8220;Branching with Clones&#8221; method because the
branches are&nbsp;separate&nbsp;repositories.</p>
<h2 id="conclusion">Conclusion</h2>
<p>I hope this guide is helpful. If you see anything I&#8217;ve missed, especially on
the git side of things (I don&#8217;t use git any more than I have to) or have any
questions please let&nbsp;me&nbsp;know!</p>
                
            <!-- Hyde::Article::End -->
        
    </div>

                    
                
            </div>

            <div class="hrb">&nbsp;</div>

            <footer>
                I'm also on
                <a href="http://bitbucket.org/sjl/">BitBucket</a>,
                <a href="http://github.com/sjl/">GitHub</a>,
                <a href="http://twitter.com/stevelosh/">Twitter</a>,
                <a href="http://forrst.com/people/stevelosh/">Forrst</a>
                and
                <a href="http://flickr.com/photos/sjl7678/">Flickr</a>.
                I've got <a href="#" class="rhythm">rhythm</a>.
            </footer>
        </div>
    </body>

</html>
